import{r as K,a as g,o as l,c,b as r,d as h,F as S,e as p,u as Q,S as F,f as O,M as T,C as q,w as v,v as w,n as x,g as B,t as u,h as k,i as E,p as A,j as C,k as J,l as X,m as Z,q as ee,s as te,x as oe,y as P,z as ne,A as re,B as se}from"./vendor.94e47e3c.js";const ae=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}};ae();const d=K({user:{},account:{},arrangement:null,flowers:[]});var f=(n,e)=>{for(const[t,o]of e)n[t]=o;return n};const D={name:"App",setup(){return{appState:p(()=>d),get background(){return`url(${{1:"https://images.unsplash.com/photo-1585049593555-70a36652e150?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",2:"https://images.unsplash.com/photo-1496062031456-07b8f162a322?q=80&w=1965&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",3:"https://images.unsplash.com/photo-1615744455875-7ad33653e8c4?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",4:"https://images.unsplash.com/photo-1582912220545-456a19c1449f?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",5:"https://images.unsplash.com/photo-1558986889-aa828ae63a6d?q=80&w=1974&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",6:"",7:"",8:"",9:"",10:"",11:"",12:""}[new Date().getMonth()+1]})`}}}},H=()=>{Q(n=>({"6e66f4d2":n.background}))},I=D.setup;D.setup=I?(n,e)=>(H(),I(n,e)):H;const ie=D,le=r("header",null,null,-1),ce=r("footer",null,null,-1);function de(n,e,t,o,a,i){const s=g("router-view");return l(),c(S,null,[le,r("main",null,[h(s)]),ce],64)}var ue=f(ie,[["render",de]]);class b{static async confirm(e="Are you sure?",t="You won't be able to revert this!",o="warning",a="Yes, delete it!"){try{return!!(await F.fire({title:e,text:t,icon:o,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:a})).isConfirmed}catch{return!1}}static toast(e="Warning!",t="warning",o="top-end",a=3e3,i=!0){F.fire({title:e,icon:t,position:o,timer:a,timerProgressBar:i,toast:!0,showConfirmButton:!1})}static error(e){var t;if(e.isAxiosError){const{response:o}=e;this.toast(((t=o.data.error)==null?void 0:t.message)||o.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}const L=window.location.origin.includes("localhost"),V=L?"http://localhost:3000":"";function y(n,e){if(L)console[n](`[${n}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(n){case"log":case"assert":return}console[n](`[${n}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const _={log(){y("log",arguments)},error(){y("error",arguments)},warn(){y("warn",arguments)},assert(){y("assert",arguments)},trace(){y("trace",arguments)}};class _e{createArrangement(e){d.arrangement=e}clear(){d.arrangement=null,d.flowers=[]}}const N=new _e,me={setup(){const n=O({budget:null,labor:.75});return{editable:n,createArrangement(){try{N.clear(),N.createArrangement(n.value),n.value={budget:null,labor:.75},T.getOrCreateInstance("#arrangement-modal").hide()}catch(e){_.error(e),b.toast(e.message,"error")}},adjustLabor(e){n.value.labor=e,_.log(n.value.labor)},toggleDropdown(e){try{const t=q.getInstance("#budget-input");t&&t.hide();const o=q.getInstance("#labor-input");o&&o.hide(),q.getOrCreateInstance(e).toggle()}catch(t){_.error(t),b.toast(t.message,"error")}}}}},fe={class:"modal-body"},be=r("label",{for:"vase",class:"form-label fst-italic"},"Vase Price...",-1),ge={class:"input-group mb-3"},pe=r("span",{class:"input-group-text"},"$",-1),he={class:"d-flex justify-content-between"},ve={class:"collapse",id:"budget-input"},we={class:"mb-3 input-group"},xe=r("span",{class:"input-group-text"},"$",-1),ye={class:"collapse",id:"labor-input"},$e={class:"d-flex justify-content-between mb-3"},Se=r("div",{class:"modal-footer"},[r("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Close "),r("button",{type:"submit",class:"btn btn-primary"},"Save")],-1);function ke(n,e,t,o,a,i){return l(),c("form",{onSubmit:e[7]||(e[7]=B((...s)=>o.createArrangement&&o.createArrangement(...s),["prevent"]))},[r("div",fe,[be,r("div",ge,[pe,v(r("input",{type:"number",class:"form-control",step:"0.01",min:"0.01","aria-label":"Amount (to the nearest dollar)","onUpdate:modelValue":e[0]||(e[0]=s=>o.editable.vasePrice=s),required:"",id:"vase","aria-describedby":"vase-price"},null,512),[[w,o.editable.vasePrice]])]),r("div",he,[r("button",{class:"btn btn-primary mb-3",type:"button",onClick:e[1]||(e[1]=s=>o.toggleDropdown("#budget-input")),"aria-expanded":"false"}," Budget? "),r("button",{class:"btn btn-primary mb-3",type:"button",onClick:e[2]||(e[2]=s=>o.toggleDropdown("#labor-input")),"aria-expanded":"false"}," Adjust Labor? ")]),r("div",ve,[r("div",we,[xe,v(r("input",{type:"number",step:"0.01",class:"form-control",id:"budget",placeholder:"Budget...","onUpdate:modelValue":e[3]||(e[3]=s=>o.editable.budget=s)},null,512),[[w,o.editable.budget]])])]),r("div",ye,[r("div",$e,[r("button",{type:"button",class:x(`btn btn-${o.editable.labor==.8?"success":"outline-dark"}`),onClick:e[4]||(e[4]=s=>o.adjustLabor(.8))}," 20% ",2),r("button",{type:"button",class:x(`btn btn-${o.editable.labor==.75?"success":"outline-dark"}`),onClick:e[5]||(e[5]=s=>o.adjustLabor(.75))}," 25% ",2),r("button",{type:"button",class:x(`btn btn-${o.editable.labor==.7?"success":"outline-dark"}`),onClick:e[6]||(e[6]=s=>o.adjustLabor(.7))}," 30% ",2)])])]),Se],32)}var Ae=f(me,[["render",ke]]),Ce=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ae});function qe(){return(new Date().getTime()/1e3|0).toString(16)+"xxxxxxxxxxxxxxxx".replace(/[x]/g,()=>(Math.random()*16|0).toString(16)).toLowerCase()}class Ee{create(e){e.id=qe(),d.flowers.unshift(e)}remove(e){d.flowers=d.flowers.filter(t=>t.id!==e)}edit(e,t){let o=d.flowers.find(a=>a.id==e);t?o.quantity++:!t&&o.quantity>1&&o.quantity--}}const j=new Ee,De={props:{flower:{type:Object,required:!0},total:{type:String,required:!0}},setup(n){return{arrangement:p(()=>d.arrangement),editFlower(e){try{j.edit(n.flower.id,e)}catch(t){_.error(t),b.toast(t.message,"error")}},async removeFlower(){if(await b.confirm())try{j.remove(n.flower.id),T.getOrCreateInstance("#edit-flower-modal-"+n.flower.id).hide(),b.toast(`${n.flower.name} removed.`,"warning","bottom-end")}catch(e){_.error(e),b.toast(e.message,"error")}}}}},je={class:"modal-body"},Me={class:"d-flex justify-content-between mb-3"},Fe={class:"d-flex justify-content-between align-items-center"},Oe=r("i",{class:"mdi mdi-minus"},null,-1),Te=[Oe],Be={class:"fs-3 mx-3"},Pe=r("i",{class:"mdi mdi-plus"},null,-1),He=[Pe],Ie={class:"modal-footer d-flex justify-content-between"},Le=r("button",{class:"btn btn-success text-light","data-bs-dismiss":"modal"}," Save ",-1);function Ve(n,e,t,o,a,i){return l(),c(S,null,[r("div",je,[r("div",Me,[r("span",null,u(o.arrangement.budget?"Budget:":"Total:"),1),r("span",{class:x(["fw-bold",{"text-danger":o.arrangement.budget&&t.total<0}])},"$"+u(t.total),3)]),r("div",Fe,[r("span",null,u(t.flower.name)+": $"+u(t.flower.price.toFixed(2))+" each",1),r("span",null,[r("button",{class:"btn btn-warning",onClick:e[0]||(e[0]=s=>o.editFlower(!1))},Te),r("span",Be,u(t.flower.quantity),1),r("button",{class:"btn btn-warning",onClick:e[1]||(e[1]=s=>o.editFlower(!0))},He)])])]),r("div",Ie,[r("button",{class:"btn btn-outline-danger",onClick:e[2]||(e[2]=s=>o.removeFlower())}," Delete "),Le])],64)}var Ne=f(De,[["render",Ve]]),Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ne});const ze={props:{flower:{type:Object,required:!0},total:{type:String,required:!0}},setup(){return{}}},Ue=["data-bs-target"],We={class:"d-flex align-items-center"},Re=E("Edit Flower");function Ye(n,e,t,o,a,i){const s=g("EditFlower"),m=g("Modal");return l(),c(S,null,[r("div",{class:"d-flex justify-content-between align-items-center text-dark mx-1 mb-3 selectable","data-bs-toggle":"modal","data-bs-target":"#edit-flower-modal-"+t.flower.id},[r("span",We,u(t.flower.quantity)+" "+u(t.flower.name)+":",1),r("span",null,"$ "+u((t.flower.price*t.flower.quantity).toFixed(2)),1)],8,Ue),h(m,{id:"edit-flower-modal-"+t.flower.id},{"modal-header":k(()=>[Re]),"modal-body":k(()=>[h(s,{flower:t.flower,total:t.total},null,8,["flower","total"])]),_:1},8,["id"])],64)}var Ke=f(ze,[["render",Ye]]),Qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ke});const Je={setup(){const n=O({});return{editable:n,createFlower(){try{j.create(n.value),b.toast(`Added ${n.value.name}`,"success","bottom"),n.value={}}catch(e){_.error(e),b.toast(e.message,"error")}}}}},$=n=>(A("data-v-4d7d20ba"),n=n(),C(),n),Xe={class:"mb-3"},Ze=$(()=>r("label",{for:"name",class:"form-label fst-italic text-light"},[r("div",{class:"text-shadow"},"Flower Name...")],-1)),et={class:"mb-3 d-flex justify-content-between"},tt={class:"small-input"},ot=$(()=>r("label",{for:"quantity",class:"form-label fst-italic text-light"},"Quantity...",-1)),nt={class:"medium-input"},rt=$(()=>r("label",{for:"price",class:"form-label fst-italic text-light"},"Price...",-1)),st={class:"input-group"},at=$(()=>r("span",{class:"input-group-text"},"$",-1)),it=$(()=>r("div",{class:"d-flex justify-content-end mt-3"},[r("button",{class:"btn btn-success text-light border border-light fs-3"},[r("i",{class:"mdi mdi-plus"})])],-1));function lt(n,e,t,o,a,i){return l(),c("form",{class:"px-2",onSubmit:e[3]||(e[3]=B(s=>o.createFlower(),["prevent"]))},[r("div",Xe,[Ze,v(r("input",{type:"text",class:"form-control",id:"name","aria-describedby":"flower-name","onUpdate:modelValue":e[0]||(e[0]=s=>o.editable.name=s),required:""},null,512),[[w,o.editable.name]])]),r("div",et,[r("div",tt,[ot,v(r("input",{type:"number",min:"1",class:"form-control",id:"quantity",step:"0.01","aria-describedby":"flower-quantity","onUpdate:modelValue":e[1]||(e[1]=s=>o.editable.quantity=s),required:""},null,512),[[w,o.editable.quantity]])]),r("div",nt,[rt,r("div",st,[at,v(r("input",{type:"number",step:"0.01",min:"0.01",class:"form-control",id:"price","aria-describedby":"flower-price","onUpdate:modelValue":e[2]||(e[2]=s=>o.editable.price=s),required:""},null,512),[[w,o.editable.price]])])])]),it],32)}var ct=f(Je,[["render",lt],["__scopeId","data-v-4d7d20ba"]]),dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ct});const ut="modulepreload",G={},_t="/",mt=function(e,t){return!t||t.length===0?e():Promise.all(t.map(o=>{if(o=`${_t}${o}`,o in G)return;G[o]=!0;const a=o.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const s=document.createElement("link");if(s.rel=a?"stylesheet":ut,a||(s.as="script",s.crossOrigin=""),s.href=o,document.head.appendChild(s),a)return new Promise((m,Y)=>{s.addEventListener("load",m),s.addEventListener("error",Y)})})).then(()=>e())};function ft(n){switch(n){case"./pages/HomePage.vue":return mt(()=>import("./HomePage.3d4bd3ac.js"),["assets/HomePage.3d4bd3ac.js","assets/vendor.94e47e3c.js"]);default:return new Promise(function(e,t){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(t.bind(null,new Error("Unknown variable dynamic import: "+n)))})}}function M(n){return()=>ft(`./pages/${n}.vue`)}const bt=[{path:"/",name:"Home",component:M("HomePage")},{path:"/about",name:"About",component:M("AboutPage")},{path:"/account",name:"Account",component:M("AccountPage"),beforeEnter:Z}],gt=J({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:X(),routes:bt});ee.create({baseURL:V,timeout:8e3});const pt={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class ht{constructor(e=!1,t=V){}on(e,t){var o;return(o=this.socket)==null||o.on(e,t.bind(this)),this}onConnected(e){_.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){_.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var t;(t=this.socket)==null||t.emit(pt.authenticate,e)}onError(e){_.error("[SOCKET_ERROR]",e)}enqueue(e,t){_.log("[ENQUEING_ACTION]",{action:e,payload:t}),this.queue.push({action:e,payload:t})}playback(){_.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(t=>{this.emit(t.action,t.payload)})}emit(e,t=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,t);if(!this.connected)return this.enqueue(e,t);this.socket.emit(e,t)}}class vt extends ht{constructor(){super();this.on("error",this.onError)}onError(e){b.toast(e.message,"error")}}new vt;const z=te({});const wt={setup(){return{user:p(()=>d.user),account:p(()=>d.account),async login(){z.loginWithPopup()},async logout(){z.logout({returnTo:window.location.origin})}}}},U=n=>(A("data-v-f7b5cf20"),n=n(),C(),n),xt={class:"navbar-text"},yt={key:1,class:"dropdown my-2 my-lg-0"},$t={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},St={key:0},kt=["src"],At={class:"mx-3 text-success lighten-30"},Ct={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},qt=U(()=>r("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),Et=U(()=>r("i",{class:"mdi mdi-logout"},null,-1)),Dt=E(" logout "),jt=[Et,Dt];function Mt(n,e,t,o,a,i){const s=g("router-link");return l(),c("span",xt,[o.user.isAuthenticated?(l(),c("div",yt,[r("div",$t,[o.account.picture?(l(),c("div",St,[r("img",{src:o.account.picture,alt:"account photo",height:"40",class:"rounded"},null,8,kt),r("span",At,u(o.account.name),1)])):oe("",!0)]),r("div",Ct,[h(s,{to:{name:"Account"}},{default:k(()=>[qt]),_:1}),r("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...m)=>o.logout&&o.logout(...m))},jt)])])):(l(),c("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...m)=>o.login&&o.login(...m))}," Login "))])}var Ft=f(wt,[["render",Mt],["__scopeId","data-v-f7b5cf20"]]),Ot=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Ft});const Tt={setup(){return{}}},Bt={class:"modal fade",tabindex:"-1","aria-hidden":"true"},Pt={class:"modal-dialog modal-dialog-centered"},Ht={class:"modal-content text-dark"},It={class:"modal-header"},Lt=r("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1);function Vt(n,e,t,o,a,i){return l(),c("div",Bt,[r("div",Pt,[r("div",Ht,[r("div",It,[P(n.$slots,"modal-header",{class:"modal-title"}),Lt]),P(n.$slots,"modal-body")])])])}var Nt=f(Tt,[["render",Vt]]),Gt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Nt});const zt={setup(){return{}}},Ut=n=>(A("data-v-727d9c5e"),n=n(),C(),n),Wt={class:"navbar navbar-expand-lg navbar-dark bg-warning px-3"},Rt=Ut(()=>r("div",{class:"d-flex flex-column align-items-center"},[r("h1",{class:"fw-bold fst-italic"},"Adoral")],-1));function Yt(n,e,t,o,a,i){const s=g("router-link");return l(),c("nav",Wt,[h(s,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:k(()=>[Rt]),_:1})])}var Kt=f(zt,[["render",Yt],["__scopeId","data-v-727d9c5e"]]),Qt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kt});const Jt={props:{arrangement:{type:Object,required:!0}},setup(n){return{flowers:p(()=>d.flowers.sort((e,t)=>t.price-e.price)),total:p(()=>{let e=0;return n.arrangement.budget?(e=n.arrangement.budget,e-=n.arrangement.vasePrice,e*=n.arrangement.labor,d.flowers.forEach(t=>{e-=t.price*t.quantity})):(e+=n.arrangement.vasePrice,d.flowers.forEach(t=>{e+=t.price*t.quantity/n.arrangement.labor})),e.toFixed(2)})}}},W=n=>(A("data-v-ca03a92c"),n=n(),C(),n),Xt={class:"m-2 bg-glass border border-info rounded p-2 grow"},Zt={class:"d-flex justify-content-between text-dark border-bottom border-dark sticky-top mx-1 mb-3 fs-3"},eo=W(()=>r("span",null,"Total:",-1)),to={key:0},oo={key:1},no={class:"overflow"},ro={class:"d-flex justify-content-between text-dark mb-2 mx-1"},so=W(()=>r("span",null,"Vase:",-1));function ao(n,e,t,o,a,i){const s=g("Flower");return l(),c("div",Xt,[r("div",Zt,[eo,t.arrangement.budget?(l(),c("span",oo,[r("span",{class:x({"text-danger":o.total<0})}," $ "+u(o.total),3),E(" / $ "+u(t.arrangement.budget.toFixed(2)),1)])):(l(),c("span",to,"$ "+u(o.total),1))]),r("div",no,[r("div",ro,[so,r("span",null,"$ "+u(t.arrangement.vasePrice.toFixed(2)),1)]),(l(!0),c(S,null,ne(o.flowers,m=>(l(),re(s,{key:m.id,flower:m,total:o.total},null,8,["flower","total"]))),128))])])}var io=f(Jt,[["render",ao],["__scopeId","data-v-ca03a92c"]]),lo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:io});function co(n){Object.entries({"./components/ArrangementForm.vue":Ce,"./components/EditFlower.vue":Ge,"./components/Flower.vue":Qe,"./components/FlowerForm.vue":dt,"./components/Login.vue":Ot,"./components/Modal.vue":Gt,"./components/Navbar.vue":Qt,"./components/SaleStub.vue":lo}).forEach(([t,o])=>{const a=o.name||t.substr(t.lastIndexOf("/")+1).replace(/\.\w+$/,"");n.component(a,o.default)})}const R=se(ue);co(R);R.use(gt).mount("#app");export{d as A,b as P,f as _,_ as l};
